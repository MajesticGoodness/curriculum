<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-04-09 Tue 17:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A 2024 Computer Science Curriculum</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="jbh" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style> body {max-width: 62.5rem; padding: 1rem; margin: auto; background-color: #fafad2} </style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">A 2024 Computer Science Curriculum</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge91e6c8">Welcome</a>
<ul>
<li><a href="#org796dd14">Basic Curriculum</a></li>
<li><a href="#orgf654d64">Research</a></li>
</ul>
</li>
<li><a href="#org9c70374">BEGIN</a>
<ul>
<li><a href="#org04c57e3">Proving equalities</a></li>
<li><a href="#orgfd887d4">Tips and tricks</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orge91e6c8" class="outline-2">
<h2 id="orge91e6c8">Welcome</h2>
<div class="outline-text-2" id="text-orge91e6c8">
<p>
This is a deep dive into what <a href="https://www.cs.cmu.edu/~rwh/">Robert Harper</a> calls <a href="https://existentialtype.wordpress.com/2011/03/27/the-holy-trinity/">The Holy Trinity</a> of the theory of computation. It gives you a framework for discovery and analysis of anything computer science related so this isn't only a programming language theory curriculum. If you want to learn this material with a community some anons have started a Discord <a href="https://discord.gg/V34pTzY">channel</a>. 
</p>
</div>

<div id="outline-container-org796dd14" class="outline-3">
<h3 id="org796dd14">Basic Curriculum</h3>
<div class="outline-text-3" id="text-org796dd14">
<p>
The categories course has recorded lectures but the lecture notes are high enough quality they can be used as a workbook
</p>


<ul class="org-ul">
<li>15-150 <a href="https://brandonspark.github.io/150/">Principles of Functional Programming</a> and <a href="http://brendanfong.com/programmingcats.html">Programming with Categories</a>
<ul class="org-ul">
<li>We finally have access to the recorded <a href="https://www.youtube.com/playlist?list=PLsydD1kw8jng2t2G8USQNLz0faYZetPnH">lectures</a></li>
<li>Older Assignments &amp; labs can be grabbed from <a href="https://github.com/zhengguan/15150-2">here</a> and <a href="https://github.com/zh3036/15150">here</a></li>
<li>TAs also wrote helpful <a href="https://smlhelp.github.io/book/docs/">docs</a> for the course</li>
<li>We can also try whatever current version of <a href="https://hypefortypes.github.io/">hype for types</a></li>
</ul></li>
</ul>

<p>
They are going to fully mechanize 15-210 soon using <a href="https://github.com/jonsterling/agda-calf">calf</a>/decalf to prove costs. 
</p>

<ul class="org-ul">
<li>15-210 <a href="https://www.diderot.one/courses/121">Parallel &amp; Sequential Algorithms</a>
<ul class="org-ul">
<li>Some recitations/review videos <a href="https://www.diderot.one/courses/44/books">here</a> but we won't need them</li>
<li>The hw/labs can be found <a href="https://github.com/EAirPeter/Labs-15210">here</a> or <a href="https://github.com/functionalCS/15210labs">here</a> or search github for more
<ul class="org-ul">
<li>Or use competitive programming sites like Kattis or CodeForces (OCaml, Haskell, F# etc)</li>
<li>There's also <a href="https://cs.uwaterloo.ca/~plragde/flaneries/FDS/">Functional Data Structures</a> by Prof Ragde</li>
</ul></li>
</ul></li>
</ul>

<p>
Classic mathematics is 'element oriented' studying everything through the lens of sets while category theory is 'function oriented' zooming out to the big picture and studying functions and their transformations 
</p>

<ul class="org-ul">
<li>Discrete Math using <a href="https://hrmacbeth.github.io/math2001/">Lean</a></li>
<li>MIT course <a href="https://ocw.mit.edu/courses/18-s097-applied-category-theory-january-iap-2019/">Applied Category Theory</a></li>
<li><a href="https://symbolaris.com/course/constlog21-schedule.html">Constructive Logic</a> w/assignments in SML</li>
</ul>
</div>

<div id="outline-container-org11d02c9" class="outline-4">
<h4 id="org11d02c9">Some optional topics:</h4>
<div class="outline-text-4" id="text-org11d02c9">
<p>
Networks
</p>
<ul class="org-ul">
<li><a href="https://kilthub.cmu.edu/articles/journal_contribution/A_Network_Protocol_Stack_in_Standard_ML/6591089">Project</a> that Robert Harper calls the greatest and most ignored idea how they designed a network protocol stack in SML by combining two modules that share specs/cohere (a <a href="https://ncatlab.org/nlab/show/pullback">pullback</a>)</li>
<li><a href="https://www.cs.uoregon.edu/research/summerschool/summer16/curriculum.php">Network Programming</a> OPLSS lectures by Nate Foster a comprehensive intro to network programming</li>
</ul>

<p>
Program transformation 
</p>
<ul class="org-ul">
<li>A very <a href="https://www.cambridge.org/core/journals/journal-of-functional-programming/article/proofdirected-program-transformation-a-functional-account-of-efficient-regular-expression-matching/454BB5CD9B0B056FA91957F2F9CC3EC5?utm_campaign=shareaholic&amp;utm_medium=copy_link&amp;utm_source=bookmark">detailed</a> rewrite of the regex matcher we use in 15-150 for proof directed debugging but now with efficient backtracking</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgf654d64" class="outline-3">
<h3 id="orgf654d64">Research</h3>
<div class="outline-text-3" id="text-orgf654d64">
<p>
Robert Harper once spent an <a href="https://www.cambridge.org/core/journals/journal-of-functional-programming/article/on-being-a-phd-student-of-robert-harper/B68BCF31384084D9FDCB17A7DF1DE7A0">entire week</a> reading the source of an operating system to find out in complete detail exactly what happened when he pushed a button on his keyboard how it ended up transformed as pixels on his screen. His advice to grad students is to develop a point of view so when you start a project articulate exactly why it's worthwhile and keep this perspective when you are deep into every technical detail. 
</p>

<p>
What we need to know:
</p>
<ul class="org-ul">
<li>The <a href="https://www.plai.org/">PLAi</a> workbook to learn the standard model of most languages you've heard about</li>
<li>How to use <a href="https://cs.uwaterloo.ca/~plragde/747/notes/index.html">Agda</a> though practicing with Lean will make this easier</li>
<li>The Edinburgh Logical Framework or <a href="https://homepages.inf.ed.ac.uk/gdp/publications/Framework_Def_Log.pdf">LF</a>
<ul class="org-ul">
<li>One of those mandatory technical details we have to know</li>
<li>Created to make it easier to mechanize proofs in an assistant and for more readable notation</li>
</ul></li>
<li>A few Per Martin-Lof <a href="https://github.com/michaelt/martin-lof">papers</a> and <a href="https://www.cse.chalmers.se/research/group/logic/book/">Programming in MLTT</a></li>
<li>Most of the seminars from <a href="https://www.cs.uoregon.edu/research/summerschool/summer15/curriculum.html">OPLSS</a> 2015 curriculum combined with the <a href="https://www.cs.uoregon.edu/research/summerschool/summer12/curriculum.html">OPLSS</a> 2012 lectures
<ul class="org-ul">
<li>Many proof theory topics also <a href="https://symbolaris.com/course/constlog21-schedule.html">here</a> with assignments in SML</li>
</ul></li>
<li>Robert Harper <a href="https://www.cs.uoregon.edu/research/summerschool/summer11/curriculum.html">OPLSS</a> 2011 or 2010 lectures on <a href="https://www.cs.cmu.edu/~rwh/courses/oplss/">logical relations</a> that teach this subject from scratch
<ul class="org-ul">
<li>There's now logical relations as types or ParamTT they are highly versatile</li>
</ul></li>
</ul>

<p>
We can take the PFPL book with the HoTT book/course the first 2 chapters of HoTT will be especially helpful
</p>

<ul class="org-ul">
<li><i>Practical Foundations for Programming Languages</i> <a href="http://www.cs.cmu.edu/~rwh/pfpl.html">book</a> and supplementary materials</li>
<li>Robert Harper <a href="https://www.cs.uoregon.edu/research/summerschool/summer21/topics.php">OPLSS</a> 2021 lectures and some earlier OPLSS lectures for his book, many cover different topics  
<ul class="org-ul">
<li>We have access to some 15-312 <a href="https://www.cs.cmu.edu/~rjsimmon/15312-s14/">assignments</a> but the exercises in PFPL are hard enough</li>
</ul></li>
</ul>


<ul class="org-ul">
<li>15-819 <a href="http://www.cs.cmu.edu/~rwh/courses/hott/#schedule">Homotopy Type Theory</a> and book 
<ul class="org-ul">
<li>Described as a 'misadventure in formalisms' but explains how univalence works, higher types
<ul class="org-ul">
<li>Univalence is a way to show something is equal in all contexts and has released a flood of new research/type theories</li>
</ul></li>
</ul></li>
</ul>


<p>
Finally <a href="https://www.youtube.com/watch?v=LE0SSLizYUI">OPLSS</a> 2018 lectures/draft book on Computational Type Theory and whatever research is going on these days like cartesian <a href="https://www.youtube.com/watch?v=VbBDxVEu_bA">cubical type theory</a> and dive into <a href="https://jonsterling.github.io/courses/ct-fall-2022/">this</a> reading for some categorical logic. There's other research if you prefer for example OPLSS is filled with session-typed concurrent programming seminars by Stephanie Balzer (Rust, Erlang) and you can read the Brown University experimental rewrite of the <a href="https://rust-book.cs.brown.edu/">Rust book</a> to make the often confused concept of ownership easier to understand. 
</p>
</div>
</div>
</div>

<div id="outline-container-org9c70374" class="outline-2">
<h2 id="org9c70374">BEGIN</h2>
<div class="outline-text-2" id="text-org9c70374">
<p>
I'm going to start with a chapter from <i>The Mechanics of Proof</i> because 15-150 will assume we know some of this.   
</p>

<ul class="org-ul">
<li>Workbook <a href="https://hrmacbeth.github.io/math2001/index.html">The Mechanics of Proof</a> Fordham 2023 
<ul class="org-ul">
<li>See these <a href="https://github.com/hrmacbeth/math2001">install instructions</a></li>
<li>There's many <a href="https://www.youtube.com/watch?v=YbntYOs8gUQ">demos</a> on YouTube by the author Heather Macbeth</li>
</ul></li>
</ul>

<p>
Gitpod free tier is easiest. To install it locally w/Visual Studio:
</p>

<ul class="org-ul">
<li>install <a href="https://leanprover-community.github.io/get_started.html">Lean</a></li>
<li>install git</li>
<li>install code (Visual Studio code) though I use emacs see below</li>
<li>in terminal type: git clone <a href="https://github.com/hrmacbeth/math2001.git">https://github.com/hrmacbeth/math2001.git</a></li>
<li>cd math2001</li>
<li>in terminal: lake exe cache get
<ul class="org-ul">
<li>it downloads 3972+ files (wtf)</li>
</ul></li>
<li>'code .' to start from present directory</li>
<li>install lean4 extension</li>
</ul>

<p>
Click on 01 Proofs by Calculation the first .lean file. You should get a right panel opening up in VS code called 'Lean Infoview' that displays tactic state goals and all messages. 
</p>
</div>

<div id="outline-container-orgd731812" class="outline-4">
<h4 id="orgd731812">Emacs</h4>
<div class="outline-text-4" id="text-orgd731812">
<p>
Install everything as before then git clone <a href="https://github.com/leanprover/lean4-mode">lean4-mode</a>, paste the readme elisp into .emacs or init.el file, restart and open any .lean file. Ctrl-c Ctrl-i opens the lean view in a new window showing goals.
</p>

<p>
If you use vanilla emacs from some distros like Ubuntu you'll have some 'can't verify signature' error which is fixed by <a href="http://elpa.gnu.org/packages/gnu-elpa-keyring-update.html">updating elpa keyring</a>: 
</p>

<ul class="org-ul">
<li>M-x package-install RET gnu-elpa-keyring-update RET</li>
<li>M-x package-refresh-contents RET</li>
<li>Restart emacs or you may have to manually run M-x gnu-elpa-keyring-update</li>
</ul>

<p>
Another way is with gpg: 
</p>

<pre class="example">
gpg --homedir ~/.emacs.d/elpa/gnupg --list-keys 

/home/x/.emacs.d/elpa/gnupg/pubring.kbx
-----------------------------------------
pub   dsa2048 2014-09-24 [SC] [expired: 2019-09-23]
      CA442C00F91774F17F59D9B0474F05837FBDEF9B
uid           [ expired] GNU ELPA Signing Agent (2014) &lt;elpasign@elpa.gnu.org&gt;

pub   rsa3072 2019-04-23 [SC] [expires: 2024-04-21]
      C433554766D3DDC64221BFAA066DAFCB81E42C40
uid           [ unknown] GNU ELPA Signing Agent (2019) &lt;elpasign@elpa.gnu.org&gt;

pub   ed25519 2022-12-28 [C] [expires: 2032-12-25]
      AC49B8A5FDED6931F40EE78BF993C03786DE7ECA
uid           [ unknown] GNU ELPA Signing Agent (2023) &lt;elpasign@elpa.gnu.org&gt;
sub   ed25519 2022-12-28 [S] [expires: 2027-12-27]
</pre>
<p>
Mine is already updated, if yours isn't import a new key:
</p>

<pre class="example">
gpg --homedir ~/.emacs.d/elpa/gnupg --keyserver hkps://keys.openpgp.org --recv-keys 066DAFCB81E42C40
</pre>
</div>
</div>


<div id="outline-container-org6b7404c" class="outline-4">
<h4 id="org6b7404c">Lean libraries</h4>
<div class="outline-text-4" id="text-org6b7404c">
<p>
We are doing some extra manual work here for the purpose of actually understanding how proofs work that normally is all done for you through the magic of the Lean math libraries using techniques from abstract/commutative algebra, representation theory, category theory and other math we haven't learned yet. Much later when we learn more abstract math we can use Lean as it was intended as a framework chaining together lemmas and theorems that are already written and manipulating rings and fields with built-in abstract algebra libraries.   
</p>
</div>
</div>

<div id="outline-container-org04c57e3" class="outline-3">
<h3 id="org04c57e3">Proving equalities</h3>
<div class="outline-text-3" id="text-org04c57e3">
<p>
Reading 1.1 <i>Proving equalities</i> from <a href="https://hrmacbeth.github.io/math2001/01_Proofs_by_Calculation.html#proving-equalities">Mechanics of Proof</a>. Do you get the first example? Expand out (a - b) and notice you need to add 4ab in order to balance both sides. The problem statement tells us (a - b) is 4 so (a - b)<sup>2</sup> is 16 after substitution. 
</p>

<p>
1.1.2 you were probably programmed from high school that r + 6 = -1 so solve for r but she did the proof a completely different way where r = r + 2s - 2s is valid since r = r. This style of proof is exactly what you see in a real analysis book. 
</p>

<p>
1.1.3 Looking at the second line, she swapped the m and n and dropped/added a factor of 2 to get that into the form 2(am + bn)<sup>2</sup> and the other expressions on the right are to make up for the dropping/adding/rearranging. What's left over can be rearranged to the Brahmagupta identity of (sqr + n(sqr))(sqr + n(sqr)).  
</p>

<p>
1.1.4 Can do it another way:
</p>

<ul class="org-ul">
<li>= daf - dbe</li>
<li>= daf - b(de)</li>
<li>= daf - bcf</li>
<li>= daf - (bc)f</li>
<li>= daf - adf</li>
<li>= daf - daf</li>
</ul>

<p>
1.2.x exercises in Lean are easy. I had to fight with Lean to get it to accept 1.2.4 so rewrote it exactly like she did with parens:
</p>

<pre class="example">
-- Example 1.2.4.
-- Exercise: type out the whole proof printed in the text as a Lean proof.
example {a b c d e f : ℤ} (h1 : a * d = b * c) (h2 : c * f = d * e) :
    d * (a * f - b * e) = 0 := 
   calc
    d * (a * f - b * e) = d * a * f - d * b * e := by ring
    _ = (a * d) * f - d * b * e := by ring
    _ = (b * c) * f - d * b * e := by rw [h1]
    _ = b * (c * f) - d * b * e := by ring
    _ = b * (d * e) - d * b * e := by rw [h2]
    _ = 0 := by ring 
</pre>

<p>
I assume the underscore represents the entire left hand side of the equation indicating to the rw pattern matcher to ignore it. There's nothing in the documentation I could easily find but Terence Tao describes the underscore <a href="https://terrytao.wordpress.com/2023/12/05/a-slightly-longer-lean-4-proof-tour/">here</a> same way.  
</p>

<p>
Open the other file 03 Tips and Tricks and try some proofs they are programmed exactly as exampled in the text. Look at the infoview/goals it will tell you when that stage is done by 'goals accomplished':
</p>

<pre class="example">
-- Example 1.3.1
example {a b : ℤ} (h1 : a = 2 * b + 5) (h2 : b = 3) : a = 11 :=
  calc 
  a = 2 * b + 5 := by rw [h1]
  _ = 2 * 3 + 5 := by rw [h2]
  _ = 11 := by ring

-- Example 1.3.2
example {x : ℤ} (h1 : x + 4 = 2) : x = -2 :=
  calc
  x = (x + 4) - 4 := by ring
  _ = 2 - 4 := by rw [h1]
  _ = -2 := by ring 
</pre>

<p>
1.3.3 since she finessed 4 + 5b to be 4 + 5(b + 2) we are adding 10 so need to subtract 10:
</p>

<pre class="example">
example {a b : ℝ} (h1 : a - 5 * b = 4) (h2 : b + 2 = 3) : a = 9 :=
  calc
  a = (a - 5 * b) + 5 * b := by ring
  _ = 4 + 5 * b := by rw [h1]
  _ = 4 - 10 + 5 * (b + 2) := by ring
  _ = 4 - 10 + 5 * 3 := by rw [h2]
  _ = 9 := by ring
</pre>

<p>
I guessed the syntax for rationals in Lean and it worked:
</p>

<pre class="example">
-- Example 1.3.4
example {w : ℚ} (h1 : 3 * w + 1 = 4) : w = 1 :=
  calc
  w = (3 * w + 1)/3 - 1/3 := by ring
  _ = 4/3 - 1/3 := by rw [h1]
  _ = 1 := by ring
</pre>

<p>
1.3.11 you can use Lean to tell you when the sides have been balanced. You did it correctly if goals panel or infoview shows goals accomplished, and the linter hasn't added any red squiggle lines or other errors. Look at the infoview in VScode or C-c C-i in emacs while you click around the Lean source. These are some of the exercises I tried: 
</p>

<pre class="example">
example {x y : ℝ} (h1 : x = 3) (h2 : y = 4 * x - 3) : y = 9 :=
  calc
  y = 4 * x - 3 := by rw [h2]
  _ = 4 * 3 - 3 := by rw [h1]
  _ = 9 := by ring

example {a b : ℤ} (h : a - b = 0) : a = b :=
  calc
  a = a - b + b := by ring
  _ = 0 + b := by rw [h]
  _ = b := by ring

example {x y : ℤ} (h1 : x - 3 * y = 5) (h2 : y = 3) : x = 14 :=
  calc
  x = (x - 3 * y) + 3 * y := by ring
  _ = (5) + (3 * 3) := by rw [h1, h2]
  _ = 14 := by ring

example {p q : ℚ} (h1 : p - 2 * q = 1) (h2 : q = -1) : p = -1 :=
  calc
  p = p - 2 * q + 2 * q := by ring
  _ = (1) + (2 * - 1) := by rw [h1,h2]
  _ = -1 := by ring

example {x y : ℚ} (h1 : y + 1 = 3) (h2 : x + 2 * y = 3) : x = -1 :=
  calc
  x = (x + 2*y) - 2*(y + 1) + 2 := by ring
  _ = 3 - 2*3 + 2 := by rw [h1, h2]
  _ = -1 := by ring

example {p q : ℤ} (h1 : p + 4 * q = 1) (h2 : q - 1 = 2) : p = -11 :=
  calc
  p = (p + 4 * q) - 4 * (q - 1) - 4 := by ring
  _ = 1 - (4 * 2) - 4 := by rw [h1, h2]
  _ = -11 := by ring

example {a b c : ℝ} (h1 : a + 2 * b + 3 * c = 7) (h2 : b + 2 * c = 3)
    (h3 : c = 1) : a = 2 :=
  calc
  a = (a + 2*b + 3*c) - 2*(b + 2*c) + c := by ring
  _ = 7 - 2*3 + 1 := by rw [h1, h2, h3]
  _ = 2 := by ring

example {u v : ℚ} (h1 : 4 * u + v = 3) (h2 : v = 2) : u = 1 / 4 :=
  calc
  u = (4 * u + v - v)/4 := by ring
  _ = (3 - 2)/4 := by rw [h1, h2]
  _ = 1/4 := by ring 

example {c : ℚ} (h1 : 4 * c + 1 = 3 * c - 2) : c = -3 :=
  calc
  c = (4 * c + 1) - 3*c - 1 := by ring
  _ = 3*c - 2 - 3*c - 1 := by rw [h1]
  _ = -3 := by ring

example {p : ℝ} (h1 : 5 * p - 3 = 3 * p + 1) : p = 2 :=
  calc
   p = (5 * p - 3 - 3 * p + 3)/2 := by ring
   _ = (3 * p + 1 - 3 * p + 3)/2 := by rw [h1]
   _ = 4/2 := by ring
   _ = 2 := by ring          

example {x y : ℤ} (h1 : 2 * x + y = 4) (h2 : x + y = 1) : x = 3 :=
  calc
  x = (2 * x + y) - (x + y) := by ring
  _ = 4 - 1 := by rw [h1, h2]
  _ = 3 := by ring

example {a b : ℝ} (h1 : a + 2 * b = 4) (h2 : a - b = 1) : a = 2 :=
  calc
  a = ((a + 2 * b) + (a - b) + (a - b))/3 := by ring
  _ = (4 + 1 + 1)/3 := by rw [h1, h2]
  _ = 2 := by ring

example {u v : ℝ} (h1 : u + 1 = v) : u ^ 2 + 3 * u + 1 = v ^ 2 + v - 1 :=
  calc
  u ^ 2 + 3 * u + 1 = (u + 1) * (u + 1) + (u + 1) - 1 := by ring
  _ = v * v + v - 1 := by rw [h1]
  _ = v ^ 2 + v - 1 := by ring
</pre>
</div>
</div>

<div id="outline-container-orgfd887d4" class="outline-3">
<h3 id="orgfd887d4">Tips and tricks</h3>
<div class="outline-text-3" id="text-orgfd887d4">
<p>
1.3.2 once again we first establish x = x then use the hypothesis to rewrite it
</p>

<pre class="example">
-- Example 1.3.2
example {x : ℤ} (h1 : x + 4 = 2) : x = -2 :=
  calc
  x = (x + 4) - 4 := by ring
  _ = 2 - 4 := by rw [h1]
  _ = -2 := by ring
</pre>

<p>
1.3.3 establish a = a as usual, by [h1] substitute (a - 5b) for 4, create a 5(b + 2) but take into account we just added 5b + 10 so subtract 6 to balance. Rewrite by [h2] then rewrite by ring to get a = 9.  
</p>

<pre class="example">
-- Example 1.3.3
example {a b : ℝ} (h1 : a - 5 * b = 4) (h2 : b + 2 = 3) : a = 9 :=
  calc
  a = (a - 5*b) + 5*b := by ring
  _ = 4 + 5*b := by rw [h1]
  _ = -6 + 5*(b + 2) := by ring
  _ = -6 + 5*3 := by rw [h2]
  _ = 9 := by ring
</pre>

<p>
For the rest of these examples try them yourself going through the 03TipsandTricks.lean file before looking at the solution it's the only way you learn. Proof by calculation is make everything balance so if the goal in Lean shows : x = (thing) then start by x = x. If the goal shows : 2x + 3 = (thing) then start by balancing 2x + 3 = 2x + 3. 
</p>

<pre class="example">
-- Example 1.3.5
example {x : ℤ} (h1 : 2 * x + 3 = x) : x = -3 :=
  calc
  x = (2 * x) - x  := by ring
  _ = 2 * x - (2 * x + 3) := by rw [h1]
  _ = -3 := by ring
</pre>

<p>
1.3.9 I had a similar solution to hers by working it out in full then seeing what lines I could delete after:
</p>

<pre class="example">
-- Example 1.3.9
example {a b : ℚ} (h1 : a - 3 = 2 * b) : a ^ 2 - a + 3 = 4 * b ^ 2 + 10 * b + 9 :=
  calc
  a ^ 2 - a + 3 
    = a^2 - 6*a + 9 + 5*a - 6 := by ring
  _ = (a - 3) * (a - 3) + 5*(a - 3) + 9 := by ring
  _ = (2 * b) * (2 * b) + 5 * (2 * b) + 9 := by rw [h1]
  _ = 4 * b ^ 2 + 10 * b + 9 := by ring

-- Better version like the book
example {a b : ℚ} (h1 : a - 3 = 2 * b) : a ^ 2 - a + 3 = 4 * b ^ 2 + 10 * b + 9 :=
  calc
  a ^ 2 - a + 3 
    = (a - 3) * (a - 3) + 5*(a - 3) + 9 := by ring
  _ = (2 * b) * (2 * b) + 5 * (2 * b) + 9 := by rw [h1]
  _ = 4 * b ^ 2 + 10 * b + 9 := by ring

</pre>


<p>
(╯°□°)╯︵ ┻━┻ if you see calc underlined with a red error it means you forgot an equal sign or _ sign in your chain of rewrites it took me forever to figure that out as Lean kept giving some cryptic message and I was looking at the signature.  
</p>
</div>
</div>
</div>
</div>
</body>
</html>
